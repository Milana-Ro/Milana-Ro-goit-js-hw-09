{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst FORM_STORAGE_KEY = 'feedback-form-state';\nconst INITIAL_FORM_DATA = {\n  email: '',\n  message: '',\n};\n\nconst formDataStorage = localStorage.getItem(FORM_STORAGE_KEY);\nconst parsedFormDataStorage = JSON.parse(formDataStorage);\nlet currentFormData = parsedFormDataStorage || INITIAL_FORM_DATA;\n\nform.elements.email.value = currentFormData.email;\nform.elements.message.value = currentFormData.message;\n\nform.addEventListener('input', event => {\n  const { name, value } = event.target;\n\n  currentFormData[name] = value.trim();\n  setToLocalStorage(currentFormData);\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const { email, message } = currentFormData;\n\n  if (email && message) {\n    console.log('submit', currentFormData);\n    formReset();\n  }\n});\n\nfunction formReset() {\n  form.reset();\n  currentFormData = INITIAL_FORM_DATA;\n  localStorage.removeItem(FORM_STORAGE_KEY);\n}\n\nfunction setToLocalStorage(data, key = FORM_STORAGE_KEY) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n"],"names":["form","FORM_STORAGE_KEY","INITIAL_FORM_DATA","formDataStorage","parsedFormDataStorage","currentFormData","event","name","value","setToLocalStorage","email","message","formReset","data","key"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAmB,sBACnBC,EAAoB,CACxB,MAAO,GACP,QAAS,EACX,EAEMC,EAAkB,aAAa,QAAQF,CAAgB,EACvDG,EAAwB,KAAK,MAAMD,CAAe,EACxD,IAAIE,EAAkBD,GAAyBF,EAE/CF,EAAK,SAAS,MAAM,MAAQK,EAAgB,MAC5CL,EAAK,SAAS,QAAQ,MAAQK,EAAgB,QAE9CL,EAAK,iBAAiB,QAASM,GAAS,CACtC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE9BD,EAAgBE,CAAI,EAAIC,EAAM,KAAI,EAClCC,EAAkBJ,CAAe,CACnC,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAI,EAAO,QAAAC,CAAS,EAAGN,EAEvBK,GAASC,IACX,QAAQ,IAAI,SAAUN,CAAe,EACrCO,IAEJ,CAAC,EAED,SAASA,GAAY,CACnBZ,EAAK,MAAK,EACVK,EAAkBH,EAClB,aAAa,WAAWD,CAAgB,CAC1C,CAEA,SAASQ,EAAkBI,EAAMC,EAAMb,EAAkB,CACvD,aAAa,QAAQa,EAAK,KAAK,UAAUD,CAAI,CAAC,CAChD"}